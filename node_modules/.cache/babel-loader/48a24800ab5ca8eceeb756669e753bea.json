{"ast":null,"code":"import axios from 'axios';\nimport { getProductsUrl, signInUrl } from '../config/config.json';\nexport default class StoreService {\n  constructor() {\n    this.getProducts = async () => {\n      const response = await axios.get(getProductsUrl);\n      return response === null || response === void 0 ? void 0 : response.data;\n    };\n\n    this.signIn = async data => {\n      try {\n        var _response$data;\n\n        const response = await axios.post(signInUrl, data);\n        const token = response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.token;\n        localStorage.setItem('token', token);\n        return token;\n      } catch (error) {\n        return error;\n      } // const response = await axios.post<Token>(signInUrl, data);\n      // return response.data\n\n    };\n  }\n\n}","map":{"version":3,"sources":["/home/karo/Desktop/TS/groksmithStore/src/services/store-service.ts"],"names":["axios","getProductsUrl","signInUrl","StoreService","getProducts","response","get","data","signIn","post","token","localStorage","setItem","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,EAAyBC,SAAzB,QAA0C,uBAA1C;AAIA,eAAe,MAAMC,YAAN,CAAmB;AAAA;AAAA,SAEhCC,WAFgC,GAElB,YAAY;AACxB,YAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,GAAN,CAAqBL,cAArB,CAAvB;AACA,aAAOI,QAAP,aAAOA,QAAP,uBAAOA,QAAQ,CAAEE,IAAjB;AACD,KAL+B;;AAAA,SAOhCC,MAPgC,GAOvB,MAAOD,IAAP,IAAqB;AAC5B,UAAI;AAAA;;AACF,cAAMF,QAAQ,GAAG,MAAML,KAAK,CAACS,IAAN,CAAkBP,SAAlB,EAA6BK,IAA7B,CAAvB;AACA,cAAMG,KAAK,GAAGL,QAAH,aAAGA,QAAH,yCAAGA,QAAQ,CAAEE,IAAb,mDAAG,eAAgBG,KAA9B;AACAC,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,KAA9B;AACA,eAAOA,KAAP;AAED,OAND,CAME,OAAOG,KAAP,EAAc;AACd,eAAOA,KAAP;AACD,OAT2B,CAU5B;AACA;;AACD,KAnB+B;AAAA;;AAAA","sourcesContent":["import axios from 'axios';\nimport { getProductsUrl, signInUrl } from '../config/config.json';\nimport { Product, Token, SignIn } from '../interfaces';\n\n\nexport default class StoreService {\n\n  getProducts = async () => {\n    const response = await axios.get<Product[]>(getProductsUrl);\n    return response?.data;\n  };\n\n  signIn = async (data: any) => {\n    try {\n      const response = await axios.post<Token>(signInUrl, data);\n      const token = response?.data?.token;\n      localStorage.setItem('token', token);\n      return token \n\n    } catch (error) {\n      return error\n    }\n    // const response = await axios.post<Token>(signInUrl, data);\n    // return response.data\n  }\n}"]},"metadata":{},"sourceType":"module"}